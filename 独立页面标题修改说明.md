# YEAP 仪表板独立页面标题修改说明

每个页面都有独立的主标题和副标题：

### 1. 📊 Clusters Of The Implementation Framework
- **主标题：** "📊 Clusters Of The Implementation Framework"
- **副标题：** "Overview of output counts by clusters of the implementation framework"

### 2. 📚 Knowledge Development & Dissemination  
- **主标题：** "📚 Knowledge Development & Dissemination"
- **副标题：** "Analysis of knowledge development and dissemination outputs"

### 3. 🔧 Technical Assistance
- **主标题：** "🔧 Technical Assistance"
- **副标题：** "Analysis of technical assistance outputs and delivery"

### 4. 🎓 Capacity Development
- **主标题：** "🎓 Capacity Development"
- **副标题：** "Analysis of capacity development programs and outcomes"

### 5. 🤝 Advocacy & Partnerships
- **主标题：** "🤝 Advocacy & Partnerships"
- **副标题：** "Analysis of advocacy initiatives and partnership activities"

---

## 🔧 代码实现位置

### 主要修改文件：`streamlit/st_q6q7q10q11_dashboard.py`

**修改位置：** 第 857-888 行

```python
# Get selected section from session state to determine page-specific titles
selected_section = st.session_state.get('selected_analysis_section', "Clusters Of The Implementation Framework")

# Define page-specific titles and subtitles
page_titles = {
    "Clusters Of The Implementation Framework": {
        "title": "📊 Clusters Of The Implementation Framework",
        "subtitle": "Overview of output counts by clusters of the implementation framework"
    },
    "Knowledge Development & Dissemination": {
        "title": "📚 Knowledge Development & Dissemination",
        "subtitle": "Analysis of knowledge development and dissemination outputs"
    },
    "Technical Assistance": {
        "title": "🔧 Technical Assistance", 
        "subtitle": "Analysis of technical assistance outputs and delivery"
    },
    "Capacity Development": {
        "title": "🎓 Capacity Development",
        "subtitle": "Analysis of capacity development programs and outcomes"
    },
    "Advocacy & Partnerships": {
        "title": "🤝 Advocacy & Partnerships",
        "subtitle": "Analysis of advocacy initiatives and partnership activities"
    }
}

# Display page-specific title and subtitle
current_page = page_titles.get(selected_section, page_titles["Clusters Of The Implementation Framework"])
st.title(current_page["title"])
st.markdown(f"**{current_page['subtitle']}**")
```

---

## 📝 如何修改每个页面的标题

### 方法 1：修改字典中的标题内容

在 `streamlit/st_q6q7q10q11_dashboard.py` 第 863-883 行的 `page_titles` 字典中修改：

```python
page_titles = {
    "页面标识": {
        "title": "您想要的主标题",
        "subtitle": "您想要的副标题"
    },
    # ... 其他页面
}
```

### 方法 2：添加新页面标题

如果需要添加新页面，在字典中添加新条目：

```python
page_titles = {
    # ... 现有页面
    "新页面标识": {
        "title": "🆕 新页面标题",
        "subtitle": "新页面的描述信息"
    }
}
```

---

## 🎯 修改示例

### 示例 1：修改 Technical Assistance 页面标题

**原标题：**
```python
"Technical Assistance": {
    "title": "🔧 Technical Assistance",
    "subtitle": "Analysis of technical assistance outputs and delivery"
}
```

**修改为：**
```python
"Technical Assistance": {
    "title": "🛠️ 技术支持服务",
    "subtitle": "技术支持输出和交付情况分析"
}
```

### 示例 2：修改 Capacity Development 页面标题

**原标题：**
```python
"Capacity Development": {
    "title": "🎓 Capacity Development",
    "subtitle": "Analysis of capacity development programs and outcomes"
}
```

**修改为：**
```python
"Capacity Development": {
    "title": "📈 能力建设项目",
    "subtitle": "能力建设项目和成果的详细分析"
}
```

---

## ⚠️ 重要注意事项

1. **页面标识不能修改：** `page_titles` 字典的键（如 "Technical Assistance"）必须与 `streamlit_app.py` 中的页面映射保持一致

2. **只修改 title 和 subtitle：** 只需要修改字典中的 `"title"` 和 `"subtitle"` 值

3. **表情符号可选：** 可以保留、修改或删除表情符号

4. **实时生效：** 修改后刷新浏览器即可看到效果

---

## 🔍 验证修改

修改后，访问 http://localhost:8501 并切换不同页面，您会看到：

- ✅ 每个页面都有独立的主标题
- ✅ 每个页面都有独立的副标题  
- ✅ 标题会根据选择的页面自动切换
- ✅ 不再是所有页面共用同一个标题

---

## 🔧 详细修改步骤

### 步骤 1：打开文件
使用文本编辑器打开：`streamlit/st_q6q7q10q11_dashboard.py`

### 步骤 2：定位修改位置
找到第 860-880 行的 `page_titles` 字典：

```python
page_titles = {
    "Outputs Count Statistics": {
        "title": "📊 Outputs Count Statistics",        # ← 修改这里
        "subtitle": "Overview of output counts across all analysis areas"  # ← 修改这里
    },
    "Knowledge Development & Dissemination": {
        "title": "📚 Knowledge Development & Dissemination",        # ← 修改这里
        "subtitle": "Analysis of knowledge development and dissemination outputs"  # ← 修改这里
    },
    "Technical Assistance": {
        "title": "🔧 Technical Assistance",         # ← 修改这里
        "subtitle": "Analysis of technical assistance outputs and delivery"  # ← 修改这里
    },
    "Capacity Development": {
        "title": "🎓 Capacity Development",        # ← 修改这里
        "subtitle": "Analysis of capacity development programs and outcomes"  # ← 修改这里
    },
    "Advocacy & Partnerships": {
        "title": "🤝 Advocacy & Partnerships",        # ← 修改这里
        "subtitle": "Analysis of advocacy initiatives and partnership activities"  # ← 修改这里
    }
}
```

### 步骤 3：保存并测试
1. 保存文件 (Ctrl+S)
2. 刷新浏览器页面 (F5)
3. 在左侧导航中切换不同页面验证效果

---

## 🚨 常见错误和解决方案

### 错误 1：语法错误
**问题：** 修改后页面显示错误或无法加载
**原因：** 缺少引号、逗号或括号
**解决：** 检查每行末尾的逗号，确保引号配对

### 错误 2：页面标题不显示
**问题：** 修改后标题没有变化
**原因：** 浏览器缓存或文件未保存
**解决：** 
1. 确认文件已保存
2. 强制刷新浏览器 (Ctrl+F5)
3. 清除浏览器缓存

### 错误 3：某个页面显示默认标题
**问题：** 只有某个页面显示默认标题
**原因：** 页面标识键名不匹配
**解决：** 确保字典键名与 `streamlit_app.py` 中的映射一致

---

## 🎨 标题样式自定义

### 添加 HTML 样式
可以在标题中使用 HTML 标签：

```python
"title": "🔧 <span style='color: #FF6B6B;'>Technical Assistance</span>",
"subtitle": "<em>Analysis of technical assistance outputs and delivery</em>"
```

### 使用 Markdown 格式
副标题支持 Markdown 语法：

```python
"subtitle": "**重点分析** *技术援助* 输出和交付情况"
```

---

## 📊 页面标识映射关系

以下是 `streamlit_app.py` 中的页面映射配置（第 172-178 行）：

```python
page_to_section = {
    "📊 Clusters Of The Implementation Framework": "Clusters Of The Implementation Framework",
    "📚 Knowledge Development & Dissemination": "Knowledge Development & Dissemination", 
    "🔧 Technical Assistance": "Technical Assistance",
    "🎓 Capacity Development": "Capacity Development",
    "🤝 Advocacy & Partnerships": "Advocacy & Partnerships"
}
```

**重要：** `page_titles` 字典的键必须与右侧的值完全一致！

---

## 🔍 测试清单

修改完成后，请按以下清单验证：

- [ ] 文件已保存
- [ ] 浏览器已刷新
- [ ] 每个页面的主标题正确显示
- [ ] 每个页面的副标题正确显示
- [ ] 页面切换时标题会相应变化
- [ ] 没有语法错误或页面崩溃
- [ ] 表情符号正常显示（如果使用）

---

## 📁 相关文件

- **主要修改文件：** `streamlit/st_q6q7q10q11_dashboard.py` (第 857-888 行)
- **页面路由配置：** `streamlit/streamlit_app.py` (第 172-178 行)
- **页面导航定义：** `streamlit/streamlit_app.py` (第 114-120 行)

---

## 技术支持

如果遇到问题：
1. 检查浏览器控制台是否有错误信息
2. 确认文件路径和行号是否正确
3. 验证 Python 语法是否正确
4. 重启应用程序：`python start_dashboard.py`

---
